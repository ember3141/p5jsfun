
p5.disableFriendlyErrors = true;
const CX = 500,
	CY = 500,
	IX = 75,
	IY = 75;
	const numchars=[
        [1,1,1,1,
         1,0,0,1,
         1,0,0,1,
         1,0,0,1,
         1,1,1,1],
            
        [0,1,0,0,
         1,1,0,0,
         0,1,0,0,
         0,1,0,0,
         1,1,1,0],
            
        [0,1,1,0,
         1,0,0,1,
         0,0,1,0,
         0,1,0,0,
         1,1,1,1],
            
        [0,1,1,0,
         1,0,0,1,
         0,0,1,0,
         1,0,0,1,
         0,1,1,0],
            
        [0,0,1,0,
         0,1,1,0,
         1,0,1,0,
         1,1,1,1,
         0,0,1,0],
            
        [1,1,1,1,
         1,0,0,0,
         1,1,1,0,
         0,0,0,1,
         1,1,1,0],
            
        [0,1,1,0,
         1,0,0,0,
         1,1,1,0,
         1,0,0,1,
         0,1,1,0],
            
        [1,1,1,0,
         0,0,0,1,
         0,0,0,1,
         0,0,1,0,
         0,0,1,0],
            
        [0,1,1,0,
         1,0,0,1,
         0,1,1,0,
         1,0,0,1,
         0,1,1,0],
            
        [0,1,1,0,
         1,0,0,1,
         0,1,1,1,
         0,0,0,1,
         0,0,1,0],
        ];
        //79x38
    const titleimg=[
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,1,2,2,2,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,1,2,2,2,2,2,1,1,0,0,0,1,1,2,2,2,1,1,0,1,1,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,2,2,2,2,2,1,1,0,1,2,2,2,2,2,2,2,1,0,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,1,2,2,2,2,2,2,1,1,0,0,1,1,1,0,0,1,1,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,1,1,1,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,1,1,0,0,0,0,1,1,1,1,2,2,2,2,2,2,1,0,1,1,2,2,2,2,2,2,2,1,1,1,1,2,2,1,0,1,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,1,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,1,2,2,2,2,1,1,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,1,2,2,2,2,2,1,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,1,2,2,2,2,1,2,2,2,2,2,2,2,1,2,2,1,2,2,2,2,1,1,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,1,2,2,2,2,1,2,2,2,2,2,2,2,1,2,2,1,2,2,2,2,1,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,1,1,1,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,1,1,2,2,2,2,1,2,2,2,2,2,2,2,1,2,2,1,2,2,2,2,1,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,1,0,0,1,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,1,2,2,2,2,1,2,2,2,2,2,2,2,1,1,2,2,1,2,2,2,2,1,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,1,1,0,0,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,1,1,2,2,2,2,1,2,2,2,2,2,2,2,1,2,2,2,1,2,2,2,1,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,1,1,0,0,0,0,0,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,2,2,2,2,2,2,2,2,1,1,2,2,2,2,1,1,2,2,2,2,2,2,1,2,2,2,1,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,1,1,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,1,2,2,1,1,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,1,2,2,2,2,2,1,2,2,2,1,1,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,1,2,2,2,1,2,2,2,2,2,2,2,2,1,1,2,2,2,2,1,1,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,1,2,2,2,2,2,2,2,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,1,1,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,2,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,1,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,1,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,2,1,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,1,1,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,1,2,2,2,1,2,2,2,2,2,2,2,1,2,2,2,2,1,1,2,2,2,2,1,1,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,1,2,2,2,2,1,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,1,2,2,2,1,1,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,1,2,2,2,2,1,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,1,1,1,1,1,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,1,1,2,2,2,2,2,2,1,1,1,2,2,2,2,2,2,2,1,2,2,2,2,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,1,1,1,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,1,2,2,2,2,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,1,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,1,0,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,1,1,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,1,1,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,1,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,1,0,0,0,0,0,0,0,0,1,1,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1,1,1,2,2,2,2,2,2,2,2,2,2,1,1,1,1,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,2,1,1,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,1,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,1,1,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,2,2,2,1,1,1,0,1,2,2,2,2,2,2,2,1,1,1,1,1,1,0,0,0,1,1,2,2,2,2,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,1,2,2,2,2,2,2,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
    
    const titlesub=[
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,2,2,1,1,1,1,1,1,1,0,0,0,0,1,1,2,2,2,2,2,1,0,0,0,0,1,1,1,1,1,1,1,0,1,1,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,2,2,2,2,2,2,2,1,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,1,2,2,2,2,1,1,0,1,1,2,2,2,2,2,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,1,0,0,0,0,0,0,1,2,2,2,2,2,2,1,0,0,1,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,1,2,2,2,2,1,0,0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,1,2,2,2,1,1,0,0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,1,2,2,2,2,1,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,1,2,2,1,2,2,1,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,1,2,2,2,2,1,0,0,0,0,0,1,2,2,1,1,1,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,1,2,2,1,2,2,1,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,1,2,2,2,2,1,0,0,0,0,0,1,2,2,1,0,0,1,1,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,1,2,2,1,2,2,1,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,1,2,2,2,2,1,0,0,0,0,0,1,2,2,2,1,0,0,1,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,0,0,0,0,0,0,0,0,0,1,1,2,2,1,2,2,1,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,1,2,2,2,2,1,0,0,0,0,0,1,2,2,2,1,0,0,1,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,0,0,0,0,0,0,0,0,0,1,2,2,2,1,2,2,1,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,1,2,2,2,2,1,0,0,0,0,0,1,2,2,2,1,0,0,1,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,0,0,0,0,0,0,0,0,0,1,2,2,1,1,2,2,2,1,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,1,1,2,2,2,1,0,0,0,0,0,1,2,2,2,1,0,0,1,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,0,0,0,0,0,0,0,0,0,1,2,2,1,0,1,2,2,1,0,0,0,0,0,0,0,0,1,2,2,2,2,1,2,2,1,2,2,2,1,0,0,0,0,0,1,2,2,2,1,0,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,0,0,0,0,0,0,0,0,1,1,2,1,1,1,1,2,2,1,0,0,0,0,0,0,0,0,1,2,2,2,2,1,2,2,1,2,2,2,1,0,0,0,0,0,1,2,2,1,0,1,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,2,2,2,1,0,0,0,0,0,0,0,1,2,2,2,2,1,1,2,1,2,2,2,1,0,0,0,0,1,2,2,2,1,1,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,1,2,2,2,2,1,1,2,2,2,2,2,1,0,0,0,0,1,2,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,1,1,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,0,0,1,2,2,2,2,1,0,1,2,2,2,2,2,1,0,0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,1,2,2,2,2,2,1,1,1,1,2,2,2,2,1,0,0,0,0,1,2,2,2,2,1,0,1,2,2,2,2,2,1,0,0,0,1,1,2,2,2,2,2,2,2,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,1,1,0,0,0,1,2,2,2,2,1,0,0,0,1,2,2,2,1,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,1,0,0,0,0,1,2,2,2,2,1,1,0,1,2,2,2,2,1,0,0,1,2,2,2,2,2,2,1,0,0,1,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,1,0,0,0,0,0,1,2,2,2,2,2,1,1,1,2,2,2,1,0,0,0,1,2,2,2,2,2,2,1,0,1,1,2,2,2,2,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,1,1,1,1,1,1,1,1,2,2,2,1,2,2,2,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,2,2,1,1,1,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,1,1,1,0,0,1,1,1,1,0,1,1,1,1,0,1,1,1,1,0,0,0,0,0,2,2,2,2,0,2,0,0,2,0,2,2,2,2,0,2,2,2,2,0,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,1,0,0,1,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,2,0,0,0,0,2,2,0,2,0,0,2,0,0,0,2,0,0,0,0,2,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,1,0,0,1,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,2,0,0,0,0,2,2,0,2,0,0,2,0,0,0,2,0,0,0,0,2,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,1,1,1,0,0,1,1,1,0,0,1,1,1,1,0,1,1,1,1,0,0,0,0,0,2,2,2,0,0,2,0,2,2,0,0,2,0,0,0,2,2,2,0,0,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,1,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,2,0,0,0,0,2,0,2,2,0,0,0,2,0,0,2,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,2,0,0,0,0,2,0,0,2,0,0,0,2,0,0,2,0,0,0,0,2,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,1,0,1,1,1,1,0,1,1,1,1,0,1,1,1,1,0,0,0,0,0,2,2,2,2,0,2,0,0,2,0,0,0,2,0,0,2,2,2,2,0,2,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
    
    const promptimg=[
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,0,0,1,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,1,2,2,1,0,0,0,1,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,2,1,2,2,2,1,2,2,1,1,2,2,2,1,1,1,2,1,1,1,2,2,1,0,1,2,2,1,1,1,2,2,2,2,1,2,2,2,2,2,2,1,2,2,2,2,2,2,2,1,2,2,1,0,1,2,2,1,1,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,2,1,2,2,2,1,2,1,2,2,1,2,1,2,2,2,2,1,2,2,1,2,1,0,1,2,1,2,1,2,1,2,2,1,2,2,2,2,2,2,2,1,2,2,2,1,1,1,1,1,1,2,1,0,1,2,2,1,2,2,1,2,2,1,0,0,0,0,0,0,0,0,0,0,0,2,1,2,1,2,1,2,1,1,1,1,2,2,1,1,2,2,1,2,2,1,2,1,0,1,2,2,2,1,2,2,2,1,1,1,1,1,1,2,1,2,1,2,1,2,2,2,2,2,1,2,2,1,0,1,2,2,1,1,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,2,1,1,2,1,1,2,1,2,2,1,2,2,2,2,1,2,1,2,2,1,2,1,0,1,2,2,2,1,2,2,2,2,1,2,2,2,2,2,2,1,1,1,2,2,2,2,2,1,2,2,2,1,0,1,2,2,1,2,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,2,1,2,2,2,1,2,1,2,2,1,2,1,1,1,2,2,1,1,1,2,2,1,0,1,2,2,2,1,2,2,2,2,2,1,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,1,0,1,2,2,1,2,2,1,2,2,1,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,1,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0];
function setup() {
	createCanvas(windowWidth, windowHeight);
	createCanvas(CX, CY);
	// frameRate(2);
	img = createImage(IX, IY);
	background(20);
	img.loadPixels();
	for (var i = 0; i < img.pixels.length / 4; i++) {
		j = i * 4;
		img.pixels[j + 3] = 255;
	}
	img.updatePixels();
	p = {};
	p.pts = 0;
	p.coins = [];
	e = [];
	e.x = 30;
	e.y = 30;
	p.fx = 20;
	p.fy = 20;
	p.sp = 0.5;
	p.s = "live";
	p.gs = "play";
	p.resets = 0;
	mycount = 0;
	gamestate = "title";
	justgothere = true;
	resetg();
}

function draw() {
	switch (gamestate) {
		case "title":
			if (keyIsDown(13)) { //enter
				gamestate = "game";
			}

			var amt = 100 * sin(0.1 * frameCount) + 100;
			
			img.loadPixels();
			for (var g = 0; g < titleimg.length; g++) {
				var j = g * 4;
				if (titleimg[g] == 1) {
					img.pixels[j] = 0;
					img.pixels[j + 1] = amt;
					img.pixels[j + 2] = 0;
				}
				if (titleimg[g] == 2) {
					img.pixels[j] = 0;
					img.pixels[j + 1] = 0;
					img.pixels[j + 2] = 200 + amt;
					img.pixels[j + 3] = 255;

				} else {
					// img.pixels[j]=0;
					// img.pixels[j+1]=0;
					// img.pixels[j+2]=0;
				}


			}
			for (var f = 0; f < titlesub.length; f++) {
				var b = f * 4 + ((IX * 4) * 38) + ran(0, 1);
				if (titlesub[f] == 1) {
					img.pixels[b] = 0;
					img.pixels[b + 1] = 200 - amt;
					img.pixels[b + 2] = 0;
					img.pixels[b + 3] = 255;
				}
				if (titlesub[f] == 2) {
					img.pixels[b] = 0;
					img.pixels[b + 1] = amt;
					img.pixels[b + 2] = 0;
					img.pixels[b + 3] = 255;

				} else {
					// img.pixels[e]=0;
					// img.pixels[e+1]=0;
					// img.pixels[e+2]=0;
				}
			}

			for (var d = 0; d < (CX * CY) / 4; d++) {
				var c = d * 4;
				img.pixels[c] = 50 * sin(50 * frameCount + c) ;
			}
			img.updatePixels();
			noSmooth();
			image(img, 0, 0, CX + (10 * Math.sin(0.1 * frameCount) + 10), CY + (10 * Math.sin(0.1 * frameCount) + 10), 0, 0);
			// }
			break;
		case "game":
			if (justgothere == true) {
				resetg();
				justgothere = false;
			}
			main();
			break;
	}
}


function setp(j, r, g, b, a) {
	if (g == null) {
		img.pixels[j] = r;
		img.pixels[j + 1] = r;
		img.pixels[j + 2] = r;
	} else if (g != null && b != null && a == null) {
		img.pixels[j] = r;
		img.pixels[j + 1] = g;
		img.pixels[j + 2] = b;
	} else if (g != null && b != null && a != null) {
		img.pixels[j] = r;
		img.pixels[j + 1] = g;
		img.pixels[j + 2] = b;
		img.pixels[j + 3] = a;
	}
}

function emake(eq, speed, leng, direction, col) {
	e.push([0, {}]);

	e[e.length - 1][0] = eq;
	e[e.length - 1][1].s = speed;
	e[e.length - 1][1].c = 0;
	e[e.length - 1][1].d = direction;
	e[e.length - 1][1].l = leng;
	e[e.length - 1][1].ls = "live";
	e[e.length - 1][1].color = col;

}

function isbad(j) {
	if (img.pixels[j] > 100 && img.pixels[j + 1] < 10 && img.pixels[j + 2] < 10) {
		return true;
	} else {
		return false;
	}
}
//https://stackoverflow.com/questions/50177103/why-does-javascript-array-push-not-use-variable-if-the-pushed-element-is-not-a-p
function ran(min, max) {
	return Math.floor(Math.random() * (max - min + 1) + min);
}

function gen(amt, len) {
	for (var q = 0; q < amt; q++) {
		var yshif = ran(0, IY);
		var vertdial = ran(10, 10);
		var hordial = random(0.1, 0.2);
		var rcolor = ran(200, 225);
		eval("emake(function(f) {return Math.floor(" + vertdial + " * Math.sin(f * " + hordial + ") + " + yshif + ");}, " + hordial * 2 + ", " + len + ", 1,[" + rcolor + ",0,0])");
	}
}

function updatescore() {
	img.loadPixels();
	var digits = p.pts.toString().split('').map(Number);
	for (var r = 0; r < digits.length; r++) {
		for (var s = 0; s < numchars[digits[r]].length; s++) {
			var linenum = floor(s / 4);
			if (p.s == "dead") {
				img.set((10 * digits.length) + (s - (linenum * 4)), 10 + (linenum), color(numchars[digits[r]][s] * 255, 0, 0));
			} else {
				img.set((10 * digits.length) + (s - (linenum * 4)), 10 + (linenum), numchars[digits[r]][s] * 255);
			}
		}
	}
	updateimg();
}

function updateimg() {
	img.updatePixels();
	noSmooth();
	if (p.s == "dead") {
		image(img, 0, 0, CX + (20 * Math.sin(0.2 * frameCount) + 10), CY + (20 * Math.sin(0.2 * frameCount) + 10), 0, 0);
	} else {
		image(img, 0, 0, CX + (10 * Math.sin(0.1 * frameCount) + 10), CY + (10 * Math.sin(0.1 * frameCount) + 10), 0, 0);
	}
}

function resetg() {
	p.s = "live";
	e = [];
	p.coins = [];
	p.pts = 0;
	mycount = 0;
	p.resets++;
	clearPX();
	for (var q = 0; q < 5; q++) {
		var yshif = q * 10 + ran(5, 50);
		var vertdial = ran(10, 10);
		var hordial = random(0.1, 0.2);
		var rcolor = ran(200, 225);
		eval("emake(function(f) {return Math.floor(" + vertdial + " * Math.sin(f * " + hordial + ") + " + yshif + ");}, " + hordial * 2 + ", 20, 1,[" + rcolor + ",0,0])");
	}
}

function clearPX() {
	img.loadPixels();
	for (var w = 0; w < img.pixels.length / 4; w++) {
		var j = w * 4;
		img.pixels[j] = 0;
		img.pixels[j + 1] = 0;
		img.pixels[j + 2] = 0;
		img.pixels[j + 3] = 255;

	}
	img.updatePixels();
}

function writeimg(arrr, tr) {
	var amt = 100 * sin(0.1 * frameCount) + 100;
	// if(frameCount%20==0){
	img.loadPixels();
	for (var g = 0; g < arrr.length; g++) {
		var j = g * 4 + ((IX * 4) * tr);
		if (arrr[g] == 1) {
			img.pixels[j] = 0;
			img.pixels[j + 1] = 100-amt;
			img.pixels[j + 2] = amt;
		}
		if (arrr[g] == 2) {
			img.pixels[j] = 0;
			img.pixels[j + 1] = amt;
			img.pixels[j + 2] = 100-amt;
			img.pixels[j + 3] = 255;

		} else {
			// img.pixels[j]=0;
			// img.pixels[j+1]=0;
			// img.pixels[j+2]=0;
		}


	}
	img.updatePixels();

}

function main() {

	mycount++;
	if (p.s == "live") {
		if (mycount % 100 == 0) {
			gen(1, 5 * ran(1, 10));
			p.coins.push({
				"x": ran(0, IX),
				"y": ran(0, IY)
			});
		}
		if (keyIsDown(16)) { //up
			p.sp=0.25;
		} else {
		p.sp=0.5;	
		}

		if ((keyIsDown(87) || keyIsDown(38)) && p.y > 0) { //up
			p.fy -= p.sp;
		}

		if ((keyIsDown(83) || keyIsDown(40)) && p.y < IY - 1) { //down
			p.fy += p.sp;
		}

		if ((keyIsDown(65) || keyIsDown(37)) && p.x > 0) { //left
			p.fx -= p.sp;
		}

		if ((keyIsDown(68) || keyIsDown(39)) && p.x < IX - 1) { //right
			p.fx += p.sp;
		}
	}

	if (keyIsDown(82)) { //right
		resetg();
	}

	p.y = Math.floor(p.fy);
	p.x = Math.floor(p.fx);

	img.loadPixels();
	var i = 0;
	while (i < img.pixels.length) { //https://jsben.ch/wY5fo
		// i++;
		// for (var i = 0; i < img.pixels.length; i++) {
		j = i * 4;
		y = Math.floor(i / img.width);
		x = Math.floor(i - (y * img.width));

		for (var u = 0; u < p.coins.length; u++) {
			if (x == p.coins[u].x && y == p.coins[u].y) {
				img.pixels[j] = 225;
				img.pixels[j + 1] = 225;
				img.pixels[j + 2] = 0;
			}
		}

		if (img.pixels[j] < 255 && img.pixels[j + 1] < 255 && img.pixels[j + 2] < 255) {
			var rr = ran(0, 1);
			if (rr == 0) {
				img.pixels[j + ran(1, 2)] += 1.5;
			} else if (rr == 1) {
				img.pixels[j + ran(1, 2)] -= 1.5;
			}
		}

		// for (var m = 0; m < e.length; m++) {
		var m = 0;
		while (m < e.length) {

			if (x == Math.floor(e[m][1].c * (e[m][1].s)) && y == e[m][0](e[m][1].c * (e[m][1].s))) {

				if (p.s == "dead") {
					setp(j, 200, 0, 255);
				} else {
					setp(j, e[m][1].color[0], e[m][1].color[1], e[m][1].color[2]);
				}


				if (e[m][1].ls == "dead") {
					e[m][1].color[0] -= 2;
					if (e[m][1].color[0] <= -10) {
						e.splice(m, 1);
					}
				}
			}


			if (x == e[m][1].lx && y == e[m][1].ly) {
				setp(j, 0);
			}


			if (e[m][1].lx == IX) {
				e[m][1].d = -1;
				e[m][1].c -= e[m][1].l;
			}
			if (e[m][1].c < 0) {
				e[m][1].d = 1;
				e[m][1].c += e[m][1].l;
			}
			++m;
		}

		if (y == p.y && x == p.x) {
			if (isbad(j)) {
				p.s = "dead";
			} else {
				setp(j, 255);
			}
			for (var v = 0; v < p.coins.length; v++) {
				if (x == p.coins[v].x && y == p.coins[v].y) {
					p.coins.splice(v, 1);
					e[v + 5][1].ls = "dead";
					p.pts++;
				}
			}
		}

		if ((p.x != p.lx || p.y != p.ly) && y == p.ly && x == p.lx) {
			setp(j, 0);
		}
		++i;

	}

	updateimg();

	p.lx = p.x;
	p.ly = p.y;

	for (var n = 0; n < e.length; n++) {

		if (e[n][1].d == 1) {
			e[n][1].lx = Math.floor((e[n][1].c - e[n][1].l) * e[n][1].s);
			e[n][1].ly = e[n][0]((e[n][1].c - e[n][1].l) * e[n][1].s);
			e[n][1].c++;

		}
		if (e[n][1].d == -1) {
			e[n][1].lx = Math.floor((e[n][1].c + e[n][1].l) * e[n][1].s);
			e[n][1].ly = e[n][0]((e[n][1].c + e[n][1].l) * e[n][1].s);
			e[n][1].c--;
		}

	}

	updatescore();
	if (p.resets < 3) {
		writeimg(promptimg, IY - 20);
	}
}